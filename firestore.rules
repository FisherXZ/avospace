rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // ============================================
    // ⚠️ DEVELOPMENT MODE - SIMPLIFIED RULES ⚠️
    // ============================================
    // All authenticated users have full read/write access
    // TODO: Reimplement proper security rules before production
    // ============================================
    
    // Helper function - check if user is authenticated
    function isSignedIn() {
      return request.auth != null;
    }
    
    // ============================================
    // DEV MODE: ALL COLLECTIONS - FULL ACCESS
    // ============================================
    
    // Study spots - Allow authenticated users to read/write
    match /study_spots/{spotId} {
      allow read, write: if isSignedIn();
    }
    
    // Check-ins - Allow authenticated users full access
    match /check_ins/{checkInId} {
      allow read, write: if isSignedIn();
    }
    
    // Study requests - Allow authenticated users full access
    match /study_requests/{requestId} {
      allow read, write: if isSignedIn();
    }
    
    // Posts - Allow authenticated users full access
    match /posts/{postId} {
      allow read, write: if isSignedIn();
    }
    
    // Users - Allow authenticated users full access
    match /users/{userId} {
      allow read, write: if isSignedIn();
    }
  }
}
